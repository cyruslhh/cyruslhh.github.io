<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> CS180 Project 3 | Cyrus Hung </title> <meta name="author" content="Cyrus Hung"> <meta name="description" content="Face Morphing and Modelling a Photo Collection"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://cyruslhh.github.io/projects/CS180_project_3/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Cyrus</span> Hung </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">Me </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">CS180 </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/projects/CS180_project_1/">Project 1</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/CS180_project_2/">Project 2</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/CS180_project_3/">Project 3</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/CS180_project_4/">Project 4</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/CS180_project_5/">Project 5</a> <a class="dropdown-item " href="/projects/CS180_project_6/">Project 6</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">CS180 Project 3</h1> <p class="post-description">Face Morphing and Modelling a Photo Collection</p> </header> <article> <h2 id="task-1-establishing-correspondences">Task 1: Establishing Correspondences</h2> <p>Before we get to the main event of Face Morphing, we must establish keypoints in the two images we’d like to morph. The important thing here is that:</p> <ol> <li>The images have the same size</li> <li>Each point pair in the images must be associated with each other</li> <li>Optimally, glasses and other accessories are taken off.</li> <li>Use a good number of keypoints and place them in good spots (optional)</li> </ol> <p>To troll my high school friend Andrew I decided I want to make a face morph between him and me. The following are the points I created using the tool provided on the CS180 website</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/1_1-480.webp 480w,/assets/img/CS180/Project_3/1_1-800.webp 800w,/assets/img/CS180/Project_3/1_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/1_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Me </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/1_2-480.webp 480w,/assets/img/CS180/Project_3/1_2-800.webp 800w,/assets/img/CS180/Project_3/1_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/1_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Andrew </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/1_3-480.webp 480w,/assets/img/CS180/Project_3/1_3-800.webp 800w,/assets/img/CS180/Project_3/1_3-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/1_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> My Keypoints </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/1_4-480.webp 480w,/assets/img/CS180/Project_3/1_4-800.webp 800w,/assets/img/CS180/Project_3/1_4-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/1_4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Andrew's Keypoints </div> </div> </div> <p>By using a Delauney Triangulation, we generate a very good triangular mask of the images. This will help us morph the faces later. Each triangle in our source image (Me) corresponds to a triangle in our destination image (Andrew), and our goal will be to shift the pixels such that we can blend one triangle’s details with the other’s</p> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0" style="height: 50%;"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/1_5-480.webp 480w,/assets/img/CS180/Project_3/1_5-800.webp 800w,/assets/img/CS180/Project_3/1_5-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/1_5.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> My Triangulation </div> </div> <div class="col-sm mt-3 mt-md-0" style="height: 50%;"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/1_6-480.webp 480w,/assets/img/CS180/Project_3/1_6-800.webp 800w,/assets/img/CS180/Project_3/1_6-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/1_6.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man x" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Andrew's Triangulation </div> </div> </div> <h2 id="task-2-getting-the-average-face">Task 2: Getting the Average Face</h2> <p>With our triangulations from Part 1, we can now calculate the “average” face between me and Andrew. The overall process looks like this:</p> <ol> <li>Find the average mask between the two images first. For each pair of points, find their midway point and apply the same triangulation to all 3 image points (Me, Andrew, and Midway)</li> <li>For each triangle t in source image (me), and corresponding triangle t’ in average mask: <ol> <li>Compute the affine transformation from t to t’. More information below.</li> <li>Compute the inverse of the affine transformation from (1).</li> <li>Apply the inverse affine transformation to all points in the destination triangle. Now, each point will be transformed to a mapped coordinate in the source triangle, which represents the pixel value the destination pixel should take.</li> <li>Use some sort of interpolation method (or nearest neighbor/round) to get the source pixel value from the mapped, and apply it to the destination pixel.</li> </ol> </li> <li>Repeat for each triangle t in the destination image, and average the pixel values taken between the two source images.</li> </ol> <p>To get the Affine transformation, we can use the handy formula that was on Edstem:</p> \[\begin{bmatrix} p_{x_1} &amp; p_{y_1} &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; p_{x_1} &amp; p_{y_1} &amp; 1 \\ p_{x_2} &amp; p_{y_2} &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; p_{x_2} &amp; p_{y_2} &amp; 1 \\ p_{x_3} &amp; p_{y_3} &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; p_{x_3} &amp; p_{y_3} &amp; 1 \end{bmatrix} \begin{bmatrix} a \\ b \\ c \\ d \\ e \\ f \end{bmatrix} = \begin{bmatrix} q_{x_1} \\ q_{y_1} \\ q_{x_2} \\ q_{y_2} \\ q_{x_3} \\ q_{y_3} \end{bmatrix}\] <p>solving for a, b, c, d, e, f allows us to create an affine transformation such that:</p> \[\begin{bmatrix} a &amp; b &amp; c \\ d &amp; e &amp; f \\ 0 &amp; 0 &amp; 1 \end{bmatrix} \begin{bmatrix} p_{x_i} \\ p_{y_i} \\ 1 \end{bmatrix} = \begin{bmatrix} q_{x_i} \\ q_{y_i} \\ 1 \end{bmatrix}\] <p>where p is our source point, and q is our destination point.</p> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/1_5-480.webp 480w,/assets/img/CS180/Project_3/1_5-800.webp 800w,/assets/img/CS180/Project_3/1_5-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/1_5.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Cyrus (Me) </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/2_1-480.webp 480w,/assets/img/CS180/Project_3/2_1-800.webp 800w,/assets/img/CS180/Project_3/2_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/2_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Average Mask </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/1_6-480.webp 480w,/assets/img/CS180/Project_3/1_6-800.webp 800w,/assets/img/CS180/Project_3/1_6-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/1_6.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Andrew </div> </div> </div> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/2_3-480.webp 480w,/assets/img/CS180/Project_3/2_3-800.webp 800w,/assets/img/CS180/Project_3/2_3-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/2_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Warped Cyrus </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/2_4-480.webp 480w,/assets/img/CS180/Project_3/2_4-800.webp 800w,/assets/img/CS180/Project_3/2_4-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/2_4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Cyrew </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/2_2-480.webp 480w,/assets/img/CS180/Project_3/2_2-800.webp 800w,/assets/img/CS180/Project_3/2_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/2_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Warped Andrew </div> </div> </div> <p>The result was better than expected, as I was worried the differing hairstyles would get in the way. Although it’s still weird to see transparent hair, everything else looked pretty good. It disturbed a couple of my high school friends and Andrew himself since both our distinctive features are there, so mission accomplished.</p> <h2 id="task-3-the-morph-sequence">Task 3: The Morph Sequence</h2> <p>By playing around with our method from before, we can introduce a warp_frac, and dissolve_frac value.</p> <p>Rather than always computing the midway face by averaging the points/pixels, we can use the values to adjust how much warping we want as well as how much cross-dissolving the pixels should do. For face warping, we’ll simply use the formula</p> \[point_{new} = point_{src} + (dest_{src} - point_{src}) * frac_{warp}\] <p>and rather than applying 50% of each source image’s pixel values, we’ll use dissolve_frac for the source image, and 1-dissolve_frac for the destination image.</p> <p>If we then slowly increase these values from 0 to 1, we get a smooth warp sequence detailing how the face changes:</p> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0" style="height: 50%;"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/me_to_andrew-480.webp 480w,/assets/img/CS180/Project_3/me_to_andrew-800.webp 800w,/assets/img/CS180/Project_3/me_to_andrew-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/me_to_andrew.gif" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man blur magnitude" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2 id="part-4-the-mean-face-of-a-population">Part 4: The “Mean Face” of a Population</h2> <p>But what if we applied this to multiple people? By taking many well-aligned pictures of different people, we can use our morph function to find the “mean face” of a population. The process goes as follows:</p> <ol> <li>Find the “midway mask” amongst all the faces and their points. Simply average across the x and y values for a point.</li> <li>Warp each face into the new midway mask using the morph method we created above</li> <li>Overlay each face onto one another and divide by the population size to get the mean face.</li> </ol> <p>I used the Dane dataset. Here are some examples of points, the midway mask, and how people looked after morphing the points to the midway mask.</p> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_1-480.webp 480w,/assets/img/CS180/Project_3/4_1-800.webp 800w,/assets/img/CS180/Project_3/4_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Example Dane points 1 </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_3-480.webp 480w,/assets/img/CS180/Project_3/4_3-800.webp 800w,/assets/img/CS180/Project_3/4_3-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Average Mask </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_2-480.webp 480w,/assets/img/CS180/Project_3/4_2-800.webp 800w,/assets/img/CS180/Project_3/4_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Example Dane points 2 </div> </div> </div> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_5-480.webp 480w,/assets/img/CS180/Project_3/4_5-800.webp 800w,/assets/img/CS180/Project_3/4_5-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_5.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Example Dane 1 </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_6-480.webp 480w,/assets/img/CS180/Project_3/4_6-800.webp 800w,/assets/img/CS180/Project_3/4_6-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_6.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Example Dane 1 Warped </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_7-480.webp 480w,/assets/img/CS180/Project_3/4_7-800.webp 800w,/assets/img/CS180/Project_3/4_7-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_7.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Example Dane 2 </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_8-480.webp 480w,/assets/img/CS180/Project_3/4_8-800.webp 800w,/assets/img/CS180/Project_3/4_8-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_8.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Example Dane 2 Warped </div> </div> </div> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_11-480.webp 480w,/assets/img/CS180/Project_3/4_11-800.webp 800w,/assets/img/CS180/Project_3/4_11-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_11.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Example Dane 3 </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_12-480.webp 480w,/assets/img/CS180/Project_3/4_12-800.webp 800w,/assets/img/CS180/Project_3/4_12-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_12.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Example Dane 3 Warped </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_13-480.webp 480w,/assets/img/CS180/Project_3/4_13-800.webp 800w,/assets/img/CS180/Project_3/4_13-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_13.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Example Dane 4 </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_14-480.webp 480w,/assets/img/CS180/Project_3/4_14-800.webp 800w,/assets/img/CS180/Project_3/4_14-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_14.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Example Dane 4 Warped </div> </div> </div> <div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_4-480.webp 480w,/assets/img/CS180/Project_3/4_4-800.webp 800w,/assets/img/CS180/Project_3/4_4-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Mean Dane Face </div> </div> </div> <p>We can even have some fun with this, morphing the dane face to my face, or morphing my face to the shape of the average dane’s face to simulate an idea of how I might look as a Dane.</p> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_10-480.webp 480w,/assets/img/CS180/Project_3/4_10-800.webp 800w,/assets/img/CS180/Project_3/4_10-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_10.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Me warped to Average Dane </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/4_9-480.webp 480w,/assets/img/CS180/Project_3/4_9-800.webp 800w,/assets/img/CS180/Project_3/4_9-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/4_9.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Average Dane Warped To Me </div> </div> </div> <h2 id="part-5-caricatures">Part 5: Caricatures</h2> <p>Unfortunately the Dane face warping didn’t come out too good, but there are ways we can adjust that. As with warp_frac before, we can introduce a multiplier to determine just how much I’d like to warp my face to a destination mask. If I specify 1, it’d be the exact same result as what we saw just now. Lower values would mean I’d get lesser amounts of the differences between the average Dane’s features and mine, reducing the weird warping we see in the previous image. If I use a value above 1, I create a caricature - where I actually gain too much of the Danes’ features.</p> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/5_1-480.webp 480w,/assets/img/CS180/Project_3/5_1-800.webp 800w,/assets/img/CS180/Project_3/5_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/5_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> frac=-0.5 (very not Danish) </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/5_2-480.webp 480w,/assets/img/CS180/Project_3/5_2-800.webp 800w,/assets/img/CS180/Project_3/5_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/5_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> frac=0.25 (A bit Danish) </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/5_3-480.webp 480w,/assets/img/CS180/Project_3/5_3-800.webp 800w,/assets/img/CS180/Project_3/5_3-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/5_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> frac=0.5 (Somewhat Danish) </div> </div> </div> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/5_4-480.webp 480w,/assets/img/CS180/Project_3/5_4-800.webp 800w,/assets/img/CS180/Project_3/5_4-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/5_4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> frac=1 (Danish, same as part 4) </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/5_5-480.webp 480w,/assets/img/CS180/Project_3/5_5-800.webp 800w,/assets/img/CS180/Project_3/5_5-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/5_5.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> frac=1.5 (A bit too Danish) </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/5_6-480.webp 480w,/assets/img/CS180/Project_3/5_6-800.webp 800w,/assets/img/CS180/Project_3/5_6-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/5_6.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.15" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> frac=2 (Too much Danish) </div> </div> </div> <h2 id="bell-and-whistle-changing-genders">Bell and Whistle: Changing Genders</h2> <p>I found an image of the average female face for Hong Kong women attending a specific university, which was the perfect way for me to test how I might look if I was female considering I’m from Hong Kong myself, plus the age range of the faces were appropriate as well. After adjusting some of the multipliers, here were the best results I got, with just warping the face shape, the appearance, and both.</p> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/6_4-480.webp 480w,/assets/img/CS180/Project_3/6_4-800.webp 800w,/assets/img/CS180/Project_3/6_4-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/6_4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Me </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/6_5-480.webp 480w,/assets/img/CS180/Project_3/6_5-800.webp 800w,/assets/img/CS180/Project_3/6_5-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/6_5.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Average HKU Woman </div> </div> </div> <div class="row align-items-end"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/6_1-480.webp 480w,/assets/img/CS180/Project_3/6_1-800.webp 800w,/assets/img/CS180/Project_3/6_1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/6_1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Me warped to face shape </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/6_2-480.webp 480w,/assets/img/CS180/Project_3/6_2-800.webp 800w,/assets/img/CS180/Project_3/6_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/6_2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Me morphed with appearance </div> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/CS180/Project_3/6_3-480.webp 480w,/assets/img/CS180/Project_3/6_3-800.webp 800w,/assets/img/CS180/Project_3/6_3-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/CS180/Project_3/6_3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="camera man edges 0.1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Both appearance and face shape </div> </div> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Cyrus Hung. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-me",title:"Me",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-projects",title:"projects",description:"A growing collection of your cool projects.",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-repositories",title:"repositories",description:"Edit the `_data/repositories.yml` and change the `github_users` and `github_repos` lists to include your own GitHub profile and repositories.",section:"Navigation",handler:()=>{window.location.href="/repositories/"}},{id:"nav-cv",title:"cv",description:"This is a description of the page. You can modify it in '_pages/cv.md'. You can also change or remove the top pdf download button.",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"nav-teaching",title:"teaching",description:"Materials for courses you taught. Replace this text with your description.",section:"Navigation",handler:()=>{window.location.href="/teaching/"}},{id:"dropdown-project-1",title:"Project 1",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-project-2",title:"Project 2",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-project-3",title:"Project 3",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-project-4",title:"Project 4",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-project-5",title:"Project 5",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-project-6",title:"Project 6",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"post-google-gemini-updates-flash-1-5-gemma-2-and-project-astra",title:'Google Gemini updates: Flash 1.5, Gemma 2 and Project Astra <svg width="1.2rem" height="1.2rem" top=".5rem" viewbox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg>',description:"We\u2019re sharing updates across our Gemini family of models and a glimpse of Project Astra, our vision for the future of AI assistants.",section:"Posts",handler:()=>{window.open("https://blog.google/technology/ai/google-gemini-update-flash-ai-assistant-io-2024/","_blank")}},{id:"post-displaying-external-posts-on-your-al-folio-blog",title:'Displaying External Posts on Your al-folio Blog <svg width="1.2rem" height="1.2rem" top=".5rem" viewbox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg>',description:"",section:"Posts",handler:()=>{window.open("https://medium.com/@al-folio/displaying-external-posts-on-your-al-folio-blog-b60a1d241a0a?source=rss-17feae71c3c4------2","_blank")}},{id:"news-a-simple-inline-announcement",title:"A simple inline announcement.",description:"",section:"News"},{id:"news-a-long-announcement-with-details",title:"A long announcement with details",description:"",section:"News",handler:()=>{window.location.href="/news/announcement_2/"}},{id:"news-a-simple-inline-announcement-with-markdown-emoji-sparkles-smile",title:'A simple inline announcement with Markdown emoji! <img class="emoji" title=":sparkles:" alt=":sparkles:" src="https://github.githubassets.com/images/icons/emoji/unicode/2728.png" height="20" width="20"> <img class="emoji" title=":smile:" alt=":smile:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" height="20" width="20">',description:"",section:"News"},{id:"projects-cs180-project-1",title:"CS180 Project 1",description:"Colorizing the Prokudin-Gorskii photo collection",section:"Projects",handler:()=>{window.location.href="/projects/CS180_project_1/"}},{id:"projects-cs180-project-2",title:"CS180 Project 2",description:"Fun with Filters and Frequencies",section:"Projects",handler:()=>{window.location.href="/projects/CS180_project_2/"}},{id:"projects-cs180-project-3",title:"CS180 Project 3",description:"Face Morphing and Modelling a Photo Collection",section:"Projects",handler:()=>{window.location.href="/projects/CS180_project_3/"}},{id:"projects-cs180-project-4",title:"CS180 Project 4",description:"Image Warp + Mosaic",section:"Projects",handler:()=>{window.location.href="/projects/CS180_project_4/"}},{id:"projects-cs180-project-5",title:"CS180 Project 5",description:"Fun Wth Diffusion Models!",section:"Projects",handler:()=>{window.location.href="/projects/CS180_project_5/"}},{id:"projects-cs180-project-6",title:"CS180 Project 6",description:"Neural Radiance Fields",section:"Projects",handler:()=>{window.location.href="/projects/CS180_project_6/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%6C%68%63%79%72%75%73%68%75%6E%67@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=qc6CJjYAAAAJ","_blank")}},{id:"socials-rss",title:"RSS Feed",section:"Socials",handler:()=>{window.open("/feed.xml","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>